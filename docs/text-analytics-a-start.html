<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 12 Text Analytics: A Start | ENC2055: Introduction to Programming Languages for Linguistic Analysis</title>
  <meta name="description" content="ENC2055 Course material first edition" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 12 Text Analytics: A Start | ENC2055: Introduction to Programming Languages for Linguistic Analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="ENC2055 Course material first edition" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 Text Analytics: A Start | ENC2055: Introduction to Programming Languages for Linguistic Analysis" />
  
  <meta name="twitter:description" content="ENC2055 Course material first edition" />
  

<meta name="author" content="Alvin Chen (陳正賢）" />


<meta name="date" content="2021-06-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-scientist-first-step.html"/>
<link rel="next" href="the-shell.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://alvinntnu.github.io/NTNU_ENC2055/index.html"> <img src="images/alerts/home.svg" height="20" width ="20" style="display:inline"> Course Website </a></lo>
<li><a href="./index.html"> <img src="images/alerts/book-solid.svg" height="20" width ="20" style="display:inline"> ENC 2055 Introduction to Programming Languages For Linguistic Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-objective"><i class="fa fa-check"></i>Course Objective</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#textbook"><i class="fa fa-check"></i>Textbook</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-website"><i class="fa fa-check"></i>Course Website</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-demo-data"><i class="fa fa-check"></i>Course Demo Data</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#questions"><i class="fa fa-check"></i>Questions?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#necessary-packages"><i class="fa fa-check"></i>Necessary Packages</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro-ds.html"><a href="intro-ds.html"><i class="fa fa-check"></i><b>1</b> Data Science and R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro-ds.html"><a href="intro-ds.html#what-is-data-science"><i class="fa fa-check"></i><b>1.1</b> What is Data Science?</a></li>
<li class="chapter" data-level="1.2" data-path="intro-ds.html"><a href="intro-ds.html#working-pipeline-for-data-science"><i class="fa fa-check"></i><b>1.2</b> Working Pipeline for Data Science</a></li>
<li class="chapter" data-level="1.3" data-path="intro-ds.html"><a href="intro-ds.html#why-r"><i class="fa fa-check"></i><b>1.3</b> Why R?</a></li>
<li class="chapter" data-level="1.4" data-path="intro-ds.html"><a href="intro-ds.html#tidyverse"><i class="fa fa-check"></i><b>1.4</b> <code>tidyverse</code></a></li>
<li class="chapter" data-level="1.5" data-path="intro-ds.html"><a href="intro-ds.html#more-skills"><i class="fa fa-check"></i><b>1.5</b> More Skills</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-fundamentals.html"><a href="r-fundamentals.html"><i class="fa fa-check"></i><b>2</b> R Fundamentals</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-fundamentals.html"><a href="r-fundamentals.html#installing-r"><i class="fa fa-check"></i><b>2.1</b> Installing R</a></li>
<li class="chapter" data-level="2.2" data-path="r-fundamentals.html"><a href="r-fundamentals.html#installing-rstudio"><i class="fa fa-check"></i><b>2.2</b> Installing RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="r-fundamentals.html"><a href="r-fundamentals.html#the-interface-of-rstudio"><i class="fa fa-check"></i><b>2.3</b> The Interface of Rstudio</a></li>
<li class="chapter" data-level="2.4" data-path="r-fundamentals.html"><a href="r-fundamentals.html#assignment"><i class="fa fa-check"></i><b>2.4</b> Assignment</a></li>
<li class="chapter" data-level="2.5" data-path="r-fundamentals.html"><a href="r-fundamentals.html#data-structure"><i class="fa fa-check"></i><b>2.5</b> Data Structure</a></li>
<li class="chapter" data-level="2.6" data-path="r-fundamentals.html"><a href="r-fundamentals.html#function"><i class="fa fa-check"></i><b>2.6</b> Function</a></li>
<li class="chapter" data-level="2.7" data-path="r-fundamentals.html"><a href="r-fundamentals.html#vectorization"><i class="fa fa-check"></i><b>2.7</b> Vectorization</a></li>
<li class="chapter" data-level="2.8" data-path="r-fundamentals.html"><a href="r-fundamentals.html#script"><i class="fa fa-check"></i><b>2.8</b> Script</a></li>
<li class="chapter" data-level="2.9" data-path="r-fundamentals.html"><a href="r-fundamentals.html#library"><i class="fa fa-check"></i><b>2.9</b> Library</a></li>
<li class="chapter" data-level="2.10" data-path="r-fundamentals.html"><a href="r-fundamentals.html#setting"><i class="fa fa-check"></i><b>2.10</b> Setting</a></li>
<li class="chapter" data-level="2.11" data-path="r-fundamentals.html"><a href="r-fundamentals.html#seeking-help"><i class="fa fa-check"></i><b>2.11</b> Seeking Help</a></li>
<li class="chapter" data-level="2.12" data-path="r-fundamentals.html"><a href="r-fundamentals.html#language-learning-aint-easy"><i class="fa fa-check"></i><b>2.12</b> Language Learning Ain’t Easy!</a></li>
<li class="chapter" data-level="2.13" data-path="r-fundamentals.html"><a href="r-fundamentals.html#keyboard-shortcuts"><i class="fa fa-check"></i><b>2.13</b> Keyboard Shortcuts</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="code-format-convetion.html"><a href="code-format-convetion.html"><i class="fa fa-check"></i><b>3</b> Code Format Convention</a>
<ul>
<li class="chapter" data-level="3.1" data-path="code-format-convetion.html"><a href="code-format-convetion.html#assignment--"><i class="fa fa-check"></i><b>3.1</b> Assignment <code>&lt;-</code></a></li>
<li class="chapter" data-level="3.2" data-path="code-format-convetion.html"><a href="code-format-convetion.html#comment"><i class="fa fa-check"></i><b>3.2</b> Comment <code>#</code></a></li>
<li class="chapter" data-level="3.3" data-path="code-format-convetion.html"><a href="code-format-convetion.html#script-naming"><i class="fa fa-check"></i><b>3.3</b> Script Naming</a></li>
<li class="chapter" data-level="3.4" data-path="code-format-convetion.html"><a href="code-format-convetion.html#object-naming"><i class="fa fa-check"></i><b>3.4</b> Object Naming</a></li>
<li class="chapter" data-level="3.5" data-path="code-format-convetion.html"><a href="code-format-convetion.html#whitespace"><i class="fa fa-check"></i><b>3.5</b> Whitespace</a></li>
<li class="chapter" data-level="3.6" data-path="code-format-convetion.html"><a href="code-format-convetion.html#indention-and-linebreaks"><i class="fa fa-check"></i><b>3.6</b> Indention and Linebreaks</a></li>
<li class="chapter" data-level="3.7" data-path="code-format-convetion.html"><a href="code-format-convetion.html#more-references"><i class="fa fa-check"></i><b>3.7</b> More References</a></li>
<li class="chapter" data-level="3.8" data-path="code-format-convetion.html"><a href="code-format-convetion.html#template-for-script-assignments"><i class="fa fa-check"></i><b>3.8</b> Template for Script Assignments</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="subsetting.html"><a href="subsetting.html"><i class="fa fa-check"></i><b>4</b> Subsetting</a>
<ul>
<li class="chapter" data-level="4.1" data-path="subsetting.html"><a href="subsetting.html#vector"><i class="fa fa-check"></i><b>4.1</b> Vector</a></li>
<li class="chapter" data-level="4.2" data-path="subsetting.html"><a href="subsetting.html#factor"><i class="fa fa-check"></i><b>4.2</b> Factor</a></li>
<li class="chapter" data-level="4.3" data-path="subsetting.html"><a href="subsetting.html#list"><i class="fa fa-check"></i><b>4.3</b> List</a></li>
<li class="chapter" data-level="4.4" data-path="subsetting.html"><a href="subsetting.html#data-frame"><i class="fa fa-check"></i><b>4.4</b> Data Frame</a></li>
<li class="chapter" data-level="4.5" data-path="subsetting.html"><a href="subsetting.html#tibble"><i class="fa fa-check"></i><b>4.5</b> Tibble</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>5</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-visualization.html"><a href="data-visualization.html#why-visualization"><i class="fa fa-check"></i><b>5.1</b> Why Visualization?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-visualization.html"><a href="data-visualization.html#datasaurus-dozen-dataset"><i class="fa fa-check"></i><b>5.1.1</b> Datasaurus Dozen Dataset</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-visualization.html"><a href="data-visualization.html#simpsons-paradox"><i class="fa fa-check"></i><b>5.1.2</b> Simpson’s Paradox</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-visualization.html"><a href="data-visualization.html#ggplot2"><i class="fa fa-check"></i><b>5.2</b> <code>ggplot2</code></a></li>
<li class="chapter" data-level="5.3" data-path="data-visualization.html"><a href="data-visualization.html#variables-and-data-type"><i class="fa fa-check"></i><b>5.3</b> Variables and Data Type</a></li>
<li class="chapter" data-level="5.4" data-path="data-visualization.html"><a href="data-visualization.html#one-variable-graph"><i class="fa fa-check"></i><b>5.4</b> One-variable Graph</a></li>
<li class="chapter" data-level="5.5" data-path="data-visualization.html"><a href="data-visualization.html#two-variable-graph"><i class="fa fa-check"></i><b>5.5</b> Two-variable Graph</a></li>
<li class="chapter" data-level="5.6" data-path="data-visualization.html"><a href="data-visualization.html#adding-other-aesthetic-features"><i class="fa fa-check"></i><b>5.6</b> Adding Other Aesthetic Features</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="data-visualization.html"><a href="data-visualization.html#color"><i class="fa fa-check"></i><b>5.6.1</b> <code>color</code></a></li>
<li class="chapter" data-level="5.6.2" data-path="data-visualization.html"><a href="data-visualization.html#shape"><i class="fa fa-check"></i><b>5.6.2</b> <code>shape</code></a></li>
<li class="chapter" data-level="5.6.3" data-path="data-visualization.html"><a href="data-visualization.html#other-geom_...-layers"><i class="fa fa-check"></i><b>5.6.3</b> Other <code>geom_...</code> Layers</a></li>
<li class="chapter" data-level="5.6.4" data-path="data-visualization.html"><a href="data-visualization.html#labels"><i class="fa fa-check"></i><b>5.6.4</b> Labels</a></li>
<li class="chapter" data-level="5.6.5" data-path="data-visualization.html"><a href="data-visualization.html#fill"><i class="fa fa-check"></i><b>5.6.5</b> <code>fill</code></a></li>
<li class="chapter" data-level="5.6.6" data-path="data-visualization.html"><a href="data-visualization.html#interim-summary"><i class="fa fa-check"></i><b>5.6.6</b> Interim Summary</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="data-visualization.html"><a href="data-visualization.html#saving-plots"><i class="fa fa-check"></i><b>5.7</b> Saving Plots</a></li>
<li class="chapter" data-level="5.8" data-path="data-visualization.html"><a href="data-visualization.html#exercises-on-iris"><i class="fa fa-check"></i><b>5.8</b> Exercises on <code>iris</code></a></li>
<li class="chapter" data-level="5.9" data-path="data-visualization.html"><a href="data-visualization.html#exercises-on-covid-19"><i class="fa fa-check"></i><b>5.9</b> Exercises on COVID-19</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>6</b> Data Manipulation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-manipulation.html"><a href="data-manipulation.html#dataset"><i class="fa fa-check"></i><b>6.1</b> Dataset</a></li>
<li class="chapter" data-level="6.2" data-path="data-manipulation.html"><a href="data-manipulation.html#rename"><i class="fa fa-check"></i><b>6.2</b> <code>rename()</code></a></li>
<li class="chapter" data-level="6.3" data-path="data-manipulation.html"><a href="data-manipulation.html#pipe"><i class="fa fa-check"></i><b>6.3</b> Pipe <code>%&gt;%</code></a></li>
<li class="chapter" data-level="6.4" data-path="data-manipulation.html"><a href="data-manipulation.html#mutate"><i class="fa fa-check"></i><b>6.4</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="6.5" data-path="data-manipulation.html"><a href="data-manipulation.html#select"><i class="fa fa-check"></i><b>6.5</b> <code>select()</code></a></li>
<li class="chapter" data-level="6.6" data-path="data-manipulation.html"><a href="data-manipulation.html#filter"><i class="fa fa-check"></i><b>6.6</b> <code>filter()</code></a></li>
<li class="chapter" data-level="6.7" data-path="data-manipulation.html"><a href="data-manipulation.html#arrange"><i class="fa fa-check"></i><b>6.7</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="6.8" data-path="data-manipulation.html"><a href="data-manipulation.html#group_by-and-summarize"><i class="fa fa-check"></i><b>6.8</b> <code>group_by()</code> and <code>summarize()</code></a></li>
<li class="chapter" data-level="6.9" data-path="data-manipulation.html"><a href="data-manipulation.html#count"><i class="fa fa-check"></i><b>6.9</b> <code>count()</code></a></li>
<li class="chapter" data-level="6.10" data-path="data-manipulation.html"><a href="data-manipulation.html#tidy-data"><i class="fa fa-check"></i><b>6.10</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="6.10.1" data-path="data-manipulation.html"><a href="data-manipulation.html#an-long-to-wide-example"><i class="fa fa-check"></i><b>6.10.1</b> An Long-to-Wide Example</a></li>
<li class="chapter" data-level="6.10.2" data-path="data-manipulation.html"><a href="data-manipulation.html#a-wide-to-long-example"><i class="fa fa-check"></i><b>6.10.2</b> A Wide-to-Long Example</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="data-manipulation.html"><a href="data-manipulation.html#exerceises"><i class="fa fa-check"></i><b>6.11</b> Exerceises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="string-manipulation.html"><a href="string-manipulation.html"><i class="fa fa-check"></i><b>7</b> String Manipulation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="string-manipulation.html"><a href="string-manipulation.html#what-is-regular-expression"><i class="fa fa-check"></i><b>7.1</b> What is Regular Expression?</a></li>
<li class="chapter" data-level="7.2" data-path="string-manipulation.html"><a href="string-manipulation.html#string-basics"><i class="fa fa-check"></i><b>7.2</b> String Basics</a></li>
<li class="chapter" data-level="7.3" data-path="string-manipulation.html"><a href="string-manipulation.html#a-good-tool-regexplain"><i class="fa fa-check"></i><b>7.3</b> A Good Tool: <code>RegExplain</code></a></li>
<li class="chapter" data-level="7.4" data-path="string-manipulation.html"><a href="string-manipulation.html#regular-expression-grammar"><i class="fa fa-check"></i><b>7.4</b> Regular Expression Grammar</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="string-manipulation.html"><a href="string-manipulation.html#metacharacters"><i class="fa fa-check"></i><b>7.4.1</b> Metacharacters</a></li>
<li class="chapter" data-level="7.4.2" data-path="string-manipulation.html"><a href="string-manipulation.html#anchors"><i class="fa fa-check"></i><b>7.4.2</b> Anchors</a></li>
<li class="chapter" data-level="7.4.3" data-path="string-manipulation.html"><a href="string-manipulation.html#character-set"><i class="fa fa-check"></i><b>7.4.3</b> Character Set</a></li>
<li class="chapter" data-level="7.4.4" data-path="string-manipulation.html"><a href="string-manipulation.html#alternatives"><i class="fa fa-check"></i><b>7.4.4</b> Alternatives</a></li>
<li class="chapter" data-level="7.4.5" data-path="string-manipulation.html"><a href="string-manipulation.html#quantifiers"><i class="fa fa-check"></i><b>7.4.5</b> Quantifiers</a></li>
<li class="chapter" data-level="7.4.6" data-path="string-manipulation.html"><a href="string-manipulation.html#greedy-vs.-non-greedy-match"><i class="fa fa-check"></i><b>7.4.6</b> Greedy vs. Non-greedy match</a></li>
<li class="chapter" data-level="7.4.7" data-path="string-manipulation.html"><a href="string-manipulation.html#group-and-back-reference"><i class="fa fa-check"></i><b>7.4.7</b> Group and Back-reference</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="string-manipulation.html"><a href="string-manipulation.html#pattern-matching"><i class="fa fa-check"></i><b>7.5</b> Pattern Matching</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="string-manipulation.html"><a href="string-manipulation.html#str_detect"><i class="fa fa-check"></i><b>7.5.1</b> <code>str_detect()</code></a></li>
<li class="chapter" data-level="7.5.2" data-path="string-manipulation.html"><a href="string-manipulation.html#str_subset"><i class="fa fa-check"></i><b>7.5.2</b> <code>str_subset()</code></a></li>
<li class="chapter" data-level="7.5.3" data-path="string-manipulation.html"><a href="string-manipulation.html#str_extract"><i class="fa fa-check"></i><b>7.5.3</b> <code>str_extract()</code></a></li>
<li class="chapter" data-level="7.5.4" data-path="string-manipulation.html"><a href="string-manipulation.html#str_match"><i class="fa fa-check"></i><b>7.5.4</b> <code>str_match()</code></a></li>
<li class="chapter" data-level="7.5.5" data-path="string-manipulation.html"><a href="string-manipulation.html#str_replace"><i class="fa fa-check"></i><b>7.5.5</b> <code>str_replace()</code></a></li>
<li class="chapter" data-level="7.5.6" data-path="string-manipulation.html"><a href="string-manipulation.html#str_split"><i class="fa fa-check"></i><b>7.5.6</b> <code>str_split()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="string-manipulation.html"><a href="string-manipulation.html#advanced-pattern-matching-look-ahead-and-behind"><i class="fa fa-check"></i><b>7.6</b> Advanced Pattern Matching: Look Ahead and Behind</a></li>
<li class="chapter" data-level="7.7" data-path="string-manipulation.html"><a href="string-manipulation.html#more-practices"><i class="fa fa-check"></i><b>7.7</b> More Practices</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="string-manipulation.html"><a href="string-manipulation.html#case-1"><i class="fa fa-check"></i><b>7.7.1</b> Case 1</a></li>
<li class="chapter" data-level="7.7.2" data-path="string-manipulation.html"><a href="string-manipulation.html#case-2"><i class="fa fa-check"></i><b>7.7.2</b> Case 2</a></li>
<li class="chapter" data-level="7.7.3" data-path="string-manipulation.html"><a href="string-manipulation.html#case-3"><i class="fa fa-check"></i><b>7.7.3</b> Case 3</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="string-manipulation.html"><a href="string-manipulation.html#case-study-chinese-four-character-idioms"><i class="fa fa-check"></i><b>7.8</b> Case Study: Chinese Four-Character Idioms</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="string-manipulation.html"><a href="string-manipulation.html#dictionary-entries"><i class="fa fa-check"></i><b>7.8.1</b> Dictionary Entries</a></li>
<li class="chapter" data-level="7.8.2" data-path="string-manipulation.html"><a href="string-manipulation.html#case-study-x來y去"><i class="fa fa-check"></i><b>7.8.2</b> Case Study: <code>X來Y去</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>8</b> Data Import</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-import.html"><a href="data-import.html#overview"><i class="fa fa-check"></i><b>8.1</b> Overview</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="data-import.html"><a href="data-import.html#what-is-a-csv-file"><i class="fa fa-check"></i><b>8.1.1</b> What is a <code>CSV</code> file?</a></li>
<li class="chapter" data-level="8.1.2" data-path="data-import.html"><a href="data-import.html#why-are-.csv-files-used"><i class="fa fa-check"></i><b>8.1.2</b> Why are <code>.CSV</code> files used?</a></li>
<li class="chapter" data-level="8.1.3" data-path="data-import.html"><a href="data-import.html#how-do-i-save-csv-files"><i class="fa fa-check"></i><b>8.1.3</b> How do I save CSV files?</a></li>
<li class="chapter" data-level="8.1.4" data-path="data-import.html"><a href="data-import.html#what-about-other-types-of-data"><i class="fa fa-check"></i><b>8.1.4</b> What about other types of data?</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="data-import.html"><a href="data-import.html#importing-data"><i class="fa fa-check"></i><b>8.2</b> Importing Data</a></li>
<li class="chapter" data-level="8.3" data-path="data-import.html"><a href="data-import.html#character-encoding"><i class="fa fa-check"></i><b>8.3</b> Character Encoding</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-import.html"><a href="data-import.html#problems-with-ascii"><i class="fa fa-check"></i><b>8.3.1</b> Problems with ASCII</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-import.html"><a href="data-import.html#from-7-bit-to-one-byte-encoding"><i class="fa fa-check"></i><b>8.3.2</b> From 7-bit to One-Byte Encoding</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-import.html"><a href="data-import.html#problems-with-single-byte-encoding"><i class="fa fa-check"></i><b>8.3.3</b> Problems with Single-Byte Encoding</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-import.html"><a href="data-import.html#problems-with-multi-byte-encoding"><i class="fa fa-check"></i><b>8.3.4</b> Problems with Multi-byte Encoding</a></li>
<li class="chapter" data-level="8.3.5" data-path="data-import.html"><a href="data-import.html#unicode-and-utf-8"><i class="fa fa-check"></i><b>8.3.5</b> Unicode and UTF-8</a></li>
<li class="chapter" data-level="8.3.6" data-path="data-import.html"><a href="data-import.html#suggestions"><i class="fa fa-check"></i><b>8.3.6</b> Suggestions</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-import.html"><a href="data-import.html#character-code-point-and-hexadecimal-mode"><i class="fa fa-check"></i><b>8.4</b> Character, Code Point, and Hexadecimal Mode</a></li>
<li class="chapter" data-level="8.5" data-path="data-import.html"><a href="data-import.html#r-base-functions"><i class="fa fa-check"></i><b>8.5</b> R Base Functions</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="data-import.html"><a href="data-import.html#readlines"><i class="fa fa-check"></i><b>8.5.1</b> <code>readLines()</code></a></li>
<li class="chapter" data-level="8.5.2" data-path="data-import.html"><a href="data-import.html#writelines"><i class="fa fa-check"></i><b>8.5.2</b> <code>writeLines()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="data-import.html"><a href="data-import.html#readr-functions"><i class="fa fa-check"></i><b>8.6</b> <code>readr</code> Functions</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="data-import.html"><a href="data-import.html#readrread_csv"><i class="fa fa-check"></i><b>8.6.1</b> <code>readr::read_csv()</code></a></li>
<li class="chapter" data-level="8.6.2" data-path="data-import.html"><a href="data-import.html#readrwrite_csv"><i class="fa fa-check"></i><b>8.6.2</b> <code>readr::write_csv()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="data-import.html"><a href="data-import.html#directory-operations"><i class="fa fa-check"></i><b>8.7</b> Directory Operations</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="conditions-and-loops.html"><a href="conditions-and-loops.html"><i class="fa fa-check"></i><b>9</b> Conditions and Loops</a>
<ul>
<li class="chapter" data-level="9.1" data-path="conditions-and-loops.html"><a href="conditions-and-loops.html#if-statements"><i class="fa fa-check"></i><b>9.1</b> <code>if</code> Statements</a></li>
<li class="chapter" data-level="9.2" data-path="conditions-and-loops.html"><a href="conditions-and-loops.html#for"><i class="fa fa-check"></i><b>9.2</b> <code>for</code></a></li>
<li class="chapter" data-level="9.3" data-path="conditions-and-loops.html"><a href="conditions-and-loops.html#while-loop"><i class="fa fa-check"></i><b>9.3</b> <code>while</code> loop</a></li>
<li class="chapter" data-level="9.4" data-path="conditions-and-loops.html"><a href="conditions-and-loops.html#toy-example"><i class="fa fa-check"></i><b>9.4</b> Toy Example</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>10</b> Iteration</a>
<ul>
<li class="chapter" data-level="10.1" data-path="iteration.html"><a href="iteration.html#code-duplication"><i class="fa fa-check"></i><b>10.1</b> Code Duplication</a></li>
<li class="chapter" data-level="10.2" data-path="iteration.html"><a href="iteration.html#vector-vs.-list-in-r"><i class="fa fa-check"></i><b>10.2</b> <code>vector</code> vs. <code>list</code> in <code>R</code></a></li>
<li class="chapter" data-level="10.3" data-path="iteration.html"><a href="iteration.html#iteration-1"><i class="fa fa-check"></i><b>10.3</b> Iteration</a></li>
<li class="chapter" data-level="10.4" data-path="iteration.html"><a href="iteration.html#purr"><i class="fa fa-check"></i><b>10.4</b> <code>purr</code></a></li>
<li class="chapter" data-level="10.5" data-path="iteration.html"><a href="iteration.html#purr-dplyr"><i class="fa fa-check"></i><b>10.5</b> <code>purr</code> + <code>dplyr</code></a></li>
<li class="chapter" data-level="10.6" data-path="iteration.html"><a href="iteration.html#writing-own-functions"><i class="fa fa-check"></i><b>10.6</b> Writing Own Functions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html"><i class="fa fa-check"></i><b>11</b> Data Scientist First Step</a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#loading-nobel-laureates-dataset"><i class="fa fa-check"></i><b>11.1</b> Loading Nobel Laureates Dataset</a></li>
<li class="chapter" data-level="11.2" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#column-names"><i class="fa fa-check"></i><b>11.2</b> Column Names</a></li>
<li class="chapter" data-level="11.3" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#data-completeness-na"><i class="fa fa-check"></i><b>11.3</b> Data Completeness <code>NA</code></a></li>
<li class="chapter" data-level="11.4" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#data-preprocessing"><i class="fa fa-check"></i><b>11.4</b> Data Preprocessing</a></li>
<li class="chapter" data-level="11.5" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#exploratory-analysis"><i class="fa fa-check"></i><b>11.5</b> Exploratory Analysis</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#discipline-distribution"><i class="fa fa-check"></i><b>11.5.1</b> Discipline Distribution</a></li>
<li class="chapter" data-level="11.5.2" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#age-distribution"><i class="fa fa-check"></i><b>11.5.2</b> Age Distribution</a></li>
<li class="chapter" data-level="11.5.3" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#category-x-age-interaction"><i class="fa fa-check"></i><b>11.5.3</b> Category x Age Interaction</a></li>
<li class="chapter" data-level="11.5.4" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#gender-distribution"><i class="fa fa-check"></i><b>11.5.4</b> Gender Distribution</a></li>
<li class="chapter" data-level="11.5.5" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#age-x-gender-interaction"><i class="fa fa-check"></i><b>11.5.5</b> Age x Gender Interaction</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="data-scientist-first-step.html"><a href="data-scientist-first-step.html#exercises"><i class="fa fa-check"></i><b>11.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html"><i class="fa fa-check"></i><b>12</b> Text Analytics: A Start</a>
<ul>
<li class="chapter" data-level="12.1" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#installing-quanteda"><i class="fa fa-check"></i><b>12.1</b> Installing <code>quanteda</code></a></li>
<li class="chapter" data-level="12.2" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#building-a-corpus-from-character-vector"><i class="fa fa-check"></i><b>12.2</b> Building a <code>corpus</code> from character vector</a></li>
<li class="chapter" data-level="12.3" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#keyword-in-context-kwic"><i class="fa fa-check"></i><b>12.3</b> Keyword-in-Context (KWIC)</a></li>
<li class="chapter" data-level="12.4" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#kwic-with-regular-expressions"><i class="fa fa-check"></i><b>12.4</b> KWIC with Regular Expressions</a></li>
<li class="chapter" data-level="12.5" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#lexical-density-plot"><i class="fa fa-check"></i><b>12.5</b> Lexical Density Plot</a></li>
<li class="chapter" data-level="12.6" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#document-feature-matrix"><i class="fa fa-check"></i><b>12.6</b> Document-Feature Matrix</a></li>
<li class="chapter" data-level="12.7" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#feature-selection"><i class="fa fa-check"></i><b>12.7</b> Feature Selection</a></li>
<li class="chapter" data-level="12.8" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#top-features"><i class="fa fa-check"></i><b>12.8</b> Top Features</a></li>
<li class="chapter" data-level="12.9" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#wordclouds"><i class="fa fa-check"></i><b>12.9</b> Wordclouds</a></li>
<li class="chapter" data-level="12.10" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#keyness-analysis"><i class="fa fa-check"></i><b>12.10</b> Keyness Analysis</a></li>
<li class="chapter" data-level="12.11" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#flowchart"><i class="fa fa-check"></i><b>12.11</b> Flowchart</a></li>
<li class="chapter" data-level="12.12" data-path="text-analytics-a-start.html"><a href="text-analytics-a-start.html#exercises-1"><i class="fa fa-check"></i><b>12.12</b> Exercises</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="the-shell.html"><a href="the-shell.html"><i class="fa fa-check"></i><b>A</b> The Shell</a>
<ul>
<li class="chapter" data-level="A.1" data-path="the-shell.html"><a href="the-shell.html#why-do-you-need-to-know-shell-commands"><i class="fa fa-check"></i><b>A.1</b> Why do you need to know <em>shell commands</em>?</a></li>
<li class="chapter" data-level="A.2" data-path="the-shell.html"><a href="the-shell.html#shebang-line"><i class="fa fa-check"></i><b>A.2</b> Shebang Line</a></li>
<li class="chapter" data-level="A.3" data-path="the-shell.html"><a href="the-shell.html#basic-shell-commands"><i class="fa fa-check"></i><b>A.3</b> Basic Shell Commands</a></li>
<li class="chapter" data-level="A.4" data-path="the-shell.html"><a href="the-shell.html#text-analytic-related-commands"><i class="fa fa-check"></i><b>A.4</b> Text-Analytic Related Commands</a></li>
<li class="chapter" data-level="A.5" data-path="the-shell.html"><a href="the-shell.html#references"><i class="fa fa-check"></i><b>A.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://web.ntnu.edu.tw/~alvinchen" target ="blank">Alvin Chen </a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ENC2055: Introduction to Programming Languages for Linguistic Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="text-analytics-a-start" class="section level1" number="12">
<h1><span class="header-section-number">Chapter 12</span> Text Analytics: A Start</h1>
<p>In this chapter, I will present a quick overview of computational text analytics with R. The most important package for exploratory text analysis is <code>quanteda</code>. As computational text analytics itself is an interesting topic, I would recommend other more advanced courses for those who are interested in this field.</p>
<p>This chapter is just to give you a taste of it.</p>
<div id="installing-quanteda" class="section level2" number="12.1">
<h2><span class="header-section-number">12.1</span> Installing <code>quanteda</code></h2>
<p>There are many packages that are made for computational text analytics in R. You may consult the <a href="https://cran.r-project.org/web/views/NaturalLanguageProcessing.html">CRAN Task View: Natural Language Processing</a> for a lot more alternatives.</p>
<p>To start with, this tutorial will use a powerful package, <code>quanteda</code>, for managing and analyzing textual data in R. You may refer to the <a href="https://quanteda.io/">official documentation of the package</a> for more detail.</p>
<p><code>quanteda</code> is not included in the default R installation. Please install the package if you haven’t done so.</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="text-analytics-a-start.html#cb459-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;quanteda&quot;</span>)</span>
<span id="cb459-2"><a href="text-analytics-a-start.html#cb459-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;readtext&quot;</span>)</span></code></pre></div>
<p>Also, as noted on the <code>quanteda</code> documentation, because this library compiles some C++ and Fortran source code, you will need to have installed the appropriate compilers.</p>
<ul>
<li>If you are using a Windows platform, this means you will need also to install the <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a> software available from CRAN.</li>
<li>If you are using macOS, you should install the <a href="https://cran.r-project.org/bin/macosx/tools/">macOS tools</a>.</li>
</ul>
<p>If you run into any installation errors, please go to the official documentation page for additional assistance.</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="text-analytics-a-start.html#cb460-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb460-2"><a href="text-analytics-a-start.html#cb460-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readtext)</span>
<span id="cb460-3"><a href="text-analytics-a-start.html#cb460-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb460-4"><a href="text-analytics-a-start.html#cb460-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb460-5"><a href="text-analytics-a-start.html#cb460-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb460-6"><a href="text-analytics-a-start.html#cb460-6" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">&quot;quanteda&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &#39;3.0.0&#39;</code></pre>
</div>
<div id="building-a-corpus-from-character-vector" class="section level2" number="12.2">
<h2><span class="header-section-number">12.2</span> Building a <code>corpus</code> from character vector</h2>
<p>To demonstrate a typical corpus analytic example with texts, I will be using a pre-loaded corpus that comes with the <code>quanteda</code> package, <code>data_corpus_inaugural</code>. This is a corpus of US presidential inaugural address texts, and metadata for the corpus from 1789 to present.</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="text-analytics-a-start.html#cb462-1" aria-hidden="true" tabindex="-1"></a>data_corpus_inaugural</span></code></pre></div>
<pre><code>## Corpus consisting of 59 documents and 4 docvars.
## 1789-Washington :
## &quot;Fellow-Citizens of the Senate and of the House of Representa...&quot;
## 
## 1793-Washington :
## &quot;Fellow citizens, I am again called upon by the voice of my c...&quot;
## 
## 1797-Adams :
## &quot;When it was first perceived, in early times, that no middle ...&quot;
## 
## 1801-Jefferson :
## &quot;Friends and Fellow Citizens: Called upon to undertake the du...&quot;
## 
## 1805-Jefferson :
## &quot;Proceeding, fellow citizens, to that qualification which the...&quot;
## 
## 1809-Madison :
## &quot;Unwilling to depart from examples of the most revered author...&quot;
## 
## [ reached max_ndoc ... 53 more documents ]</code></pre>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="text-analytics-a-start.html#cb464-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(data_corpus_inaugural)</span></code></pre></div>
<pre><code>## [1] &quot;corpus&quot;    &quot;character&quot;</code></pre>
<p>We create a <code>corpus()</code> object with the pre-loaded <code>corpus</code> in <code>quanteda</code>– <code>data_corpus_inaugural</code>:</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="text-analytics-a-start.html#cb466-1" aria-hidden="true" tabindex="-1"></a>corp_us <span class="ot">&lt;-</span> <span class="fu">corpus</span>(data_corpus_inaugural) <span class="co"># save the `corpus` to a short obj name</span></span>
<span id="cb466-2"><a href="text-analytics-a-start.html#cb466-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(corp_us)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Text"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Types"],"name":[2],"type":["int"],"align":["right"]},{"label":["Tokens"],"name":[3],"type":["int"],"align":["right"]},{"label":["Sentences"],"name":[4],"type":["int"],"align":["right"]},{"label":["Year"],"name":[5],"type":["int"],"align":["right"]},{"label":["President"],"name":[6],"type":["chr"],"align":["left"]},{"label":["FirstName"],"name":[7],"type":["chr"],"align":["left"]},{"label":["Party"],"name":[8],"type":["fct"],"align":["left"]}],"data":[{"1":"1789-Washington","2":"625","3":"1537","4":"23","5":"1789","6":"Washington","7":"George","8":"none","_rn_":"1"},{"1":"1793-Washington","2":"96","3":"147","4":"4","5":"1793","6":"Washington","7":"George","8":"none","_rn_":"2"},{"1":"1797-Adams","2":"826","3":"2577","4":"37","5":"1797","6":"Adams","7":"John","8":"Federalist","_rn_":"3"},{"1":"1801-Jefferson","2":"717","3":"1923","4":"41","5":"1801","6":"Jefferson","7":"Thomas","8":"Democratic-Republican","_rn_":"4"},{"1":"1805-Jefferson","2":"804","3":"2380","4":"45","5":"1805","6":"Jefferson","7":"Thomas","8":"Democratic-Republican","_rn_":"5"},{"1":"1809-Madison","2":"535","3":"1261","4":"21","5":"1809","6":"Madison","7":"James","8":"Democratic-Republican","_rn_":"6"},{"1":"1813-Madison","2":"541","3":"1302","4":"33","5":"1813","6":"Madison","7":"James","8":"Democratic-Republican","_rn_":"7"},{"1":"1817-Monroe","2":"1040","3":"3677","4":"121","5":"1817","6":"Monroe","7":"James","8":"Democratic-Republican","_rn_":"8"},{"1":"1821-Monroe","2":"1259","3":"4886","4":"131","5":"1821","6":"Monroe","7":"James","8":"Democratic-Republican","_rn_":"9"},{"1":"1825-Adams","2":"1003","3":"3147","4":"74","5":"1825","6":"Adams","7":"John Quincy","8":"Democratic-Republican","_rn_":"10"},{"1":"1829-Jackson","2":"517","3":"1208","4":"25","5":"1829","6":"Jackson","7":"Andrew","8":"Democratic","_rn_":"11"},{"1":"1833-Jackson","2":"499","3":"1267","4":"29","5":"1833","6":"Jackson","7":"Andrew","8":"Democratic","_rn_":"12"},{"1":"1837-VanBuren","2":"1315","3":"4158","4":"95","5":"1837","6":"Van Buren","7":"Martin","8":"Democratic","_rn_":"13"},{"1":"1841-Harrison","2":"1898","3":"9123","4":"210","5":"1841","6":"Harrison","7":"William Henry","8":"Whig","_rn_":"14"},{"1":"1845-Polk","2":"1334","3":"5186","4":"153","5":"1845","6":"Polk","7":"James Knox","8":"Whig","_rn_":"15"},{"1":"1849-Taylor","2":"496","3":"1178","4":"22","5":"1849","6":"Taylor","7":"Zachary","8":"Whig","_rn_":"16"},{"1":"1853-Pierce","2":"1165","3":"3636","4":"104","5":"1853","6":"Pierce","7":"Franklin","8":"Democratic","_rn_":"17"},{"1":"1857-Buchanan","2":"945","3":"3083","4":"89","5":"1857","6":"Buchanan","7":"James","8":"Democratic","_rn_":"18"},{"1":"1861-Lincoln","2":"1075","3":"3999","4":"135","5":"1861","6":"Lincoln","7":"Abraham","8":"Republican","_rn_":"19"},{"1":"1865-Lincoln","2":"360","3":"775","4":"26","5":"1865","6":"Lincoln","7":"Abraham","8":"Republican","_rn_":"20"},{"1":"1869-Grant","2":"485","3":"1229","4":"40","5":"1869","6":"Grant","7":"Ulysses S.","8":"Republican","_rn_":"21"},{"1":"1873-Grant","2":"552","3":"1472","4":"43","5":"1873","6":"Grant","7":"Ulysses S.","8":"Republican","_rn_":"22"},{"1":"1877-Hayes","2":"831","3":"2707","4":"59","5":"1877","6":"Hayes","7":"Rutherford B.","8":"Republican","_rn_":"23"},{"1":"1881-Garfield","2":"1021","3":"3209","4":"111","5":"1881","6":"Garfield","7":"James A.","8":"Republican","_rn_":"24"},{"1":"1885-Cleveland","2":"676","3":"1816","4":"44","5":"1885","6":"Cleveland","7":"Grover","8":"Democratic","_rn_":"25"},{"1":"1889-Harrison","2":"1352","3":"4721","4":"157","5":"1889","6":"Harrison","7":"Benjamin","8":"Republican","_rn_":"26"},{"1":"1893-Cleveland","2":"821","3":"2125","4":"58","5":"1893","6":"Cleveland","7":"Grover","8":"Democratic","_rn_":"27"},{"1":"1897-McKinley","2":"1232","3":"4353","4":"130","5":"1897","6":"McKinley","7":"William","8":"Republican","_rn_":"28"},{"1":"1901-McKinley","2":"854","3":"2437","4":"100","5":"1901","6":"McKinley","7":"William","8":"Republican","_rn_":"29"},{"1":"1905-Roosevelt","2":"404","3":"1079","4":"33","5":"1905","6":"Roosevelt","7":"Theodore","8":"Republican","_rn_":"30"},{"1":"1909-Taft","2":"1437","3":"5821","4":"158","5":"1909","6":"Taft","7":"William Howard","8":"Republican","_rn_":"31"},{"1":"1913-Wilson","2":"658","3":"1882","4":"68","5":"1913","6":"Wilson","7":"Woodrow","8":"Democratic","_rn_":"32"},{"1":"1917-Wilson","2":"549","3":"1652","4":"59","5":"1917","6":"Wilson","7":"Woodrow","8":"Democratic","_rn_":"33"},{"1":"1921-Harding","2":"1169","3":"3719","4":"148","5":"1921","6":"Harding","7":"Warren G.","8":"Republican","_rn_":"34"},{"1":"1925-Coolidge","2":"1220","3":"4440","4":"196","5":"1925","6":"Coolidge","7":"Calvin","8":"Republican","_rn_":"35"},{"1":"1929-Hoover","2":"1090","3":"3860","4":"158","5":"1929","6":"Hoover","7":"Herbert","8":"Republican","_rn_":"36"},{"1":"1933-Roosevelt","2":"743","3":"2057","4":"85","5":"1933","6":"Roosevelt","7":"Franklin D.","8":"Democratic","_rn_":"37"},{"1":"1937-Roosevelt","2":"725","3":"1989","4":"96","5":"1937","6":"Roosevelt","7":"Franklin D.","8":"Democratic","_rn_":"38"},{"1":"1941-Roosevelt","2":"526","3":"1519","4":"68","5":"1941","6":"Roosevelt","7":"Franklin D.","8":"Democratic","_rn_":"39"},{"1":"1945-Roosevelt","2":"275","3":"633","4":"27","5":"1945","6":"Roosevelt","7":"Franklin D.","8":"Democratic","_rn_":"40"},{"1":"1949-Truman","2":"781","3":"2504","4":"116","5":"1949","6":"Truman","7":"Harry S.","8":"Democratic","_rn_":"41"},{"1":"1953-Eisenhower","2":"900","3":"2743","4":"119","5":"1953","6":"Eisenhower","7":"Dwight D.","8":"Republican","_rn_":"42"},{"1":"1957-Eisenhower","2":"621","3":"1907","4":"92","5":"1957","6":"Eisenhower","7":"Dwight D.","8":"Republican","_rn_":"43"},{"1":"1961-Kennedy","2":"566","3":"1541","4":"52","5":"1961","6":"Kennedy","7":"John F.","8":"Democratic","_rn_":"44"},{"1":"1965-Johnson","2":"568","3":"1710","4":"93","5":"1965","6":"Johnson","7":"Lyndon Baines","8":"Democratic","_rn_":"45"},{"1":"1969-Nixon","2":"743","3":"2416","4":"103","5":"1969","6":"Nixon","7":"Richard Milhous","8":"Republican","_rn_":"46"},{"1":"1973-Nixon","2":"544","3":"1995","4":"68","5":"1973","6":"Nixon","7":"Richard Milhous","8":"Republican","_rn_":"47"},{"1":"1977-Carter","2":"527","3":"1369","4":"52","5":"1977","6":"Carter","7":"Jimmy","8":"Democratic","_rn_":"48"},{"1":"1981-Reagan","2":"902","3":"2780","4":"129","5":"1981","6":"Reagan","7":"Ronald","8":"Republican","_rn_":"49"},{"1":"1985-Reagan","2":"925","3":"2909","4":"123","5":"1985","6":"Reagan","7":"Ronald","8":"Republican","_rn_":"50"},{"1":"1989-Bush","2":"795","3":"2673","4":"141","5":"1989","6":"Bush","7":"George","8":"Republican","_rn_":"51"},{"1":"1993-Clinton","2":"642","3":"1833","4":"81","5":"1993","6":"Clinton","7":"Bill","8":"Democratic","_rn_":"52"},{"1":"1997-Clinton","2":"773","3":"2436","4":"111","5":"1997","6":"Clinton","7":"Bill","8":"Democratic","_rn_":"53"},{"1":"2001-Bush","2":"621","3":"1806","4":"97","5":"2001","6":"Bush","7":"George W.","8":"Republican","_rn_":"54"},{"1":"2005-Bush","2":"772","3":"2312","4":"99","5":"2005","6":"Bush","7":"George W.","8":"Republican","_rn_":"55"},{"1":"2009-Obama","2":"938","3":"2689","4":"110","5":"2009","6":"Obama","7":"Barack","8":"Democratic","_rn_":"56"},{"1":"2013-Obama","2":"814","3":"2317","4":"88","5":"2013","6":"Obama","7":"Barack","8":"Democratic","_rn_":"57"},{"1":"2017-Trump","2":"582","3":"1660","4":"88","5":"2017","6":"Trump","7":"Donald J.","8":"Republican","_rn_":"58"},{"1":"2021-Biden.txt","2":"811","3":"2766","4":"216","5":"2021","6":"Biden","7":"Joseph R.","8":"Democratic","_rn_":"59"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>After the <code>corpus</code> is loaded, we can use <code>summary()</code> to get the metadata of each text in the corpus, including word types and tokens as well. This allows us to have a quick look at the size of the addressess made by all presidents.</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="text-analytics-a-start.html#cb467-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(ggplot2)</span>
<span id="cb467-2"><a href="text-analytics-a-start.html#cb467-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb467-3"><a href="text-analytics-a-start.html#cb467-3" aria-hidden="true" tabindex="-1"></a>corp_us <span class="sc">%&gt;%</span></span>
<span id="cb467-4"><a href="text-analytics-a-start.html#cb467-4" aria-hidden="true" tabindex="-1"></a>  summary <span class="sc">%&gt;%</span></span>
<span id="cb467-5"><a href="text-analytics-a-start.html#cb467-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Tokens, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb467-6"><a href="text-analytics-a-start.html#cb467-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb467-7"><a href="text-analytics-a-start.html#cb467-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb467-8"><a href="text-analytics-a-start.html#cb467-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-442-1.png" width="672" /></p>
<hr />

<div class="exercise">
<p><span id="exr:unnamed-chunk-443" class="exercise"><strong>Exercise 12.1  </strong></span>Could you reproduce the above line plot and add information of <code>President</code> to the plot as labels of the dots?</p>
Hints: Please check <code>ggplot2::geom_text()</code> or more advanced one, <code>ggrepel::geom_text_repel()</code>
</div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-444-1.png" width="672" /></p>
<hr />
</div>
<div id="keyword-in-context-kwic" class="section level2" number="12.3">
<h2><span class="header-section-number">12.3</span> Keyword-in-Context (KWIC)</h2>
<p>Keyword-in-Context (KWIC), or <em>concordances</em>, are the most frequently used method in corpus linguistics. The idea is very intuitive: we get to know more about the semantics of a word by examining how it is being used in a wider context.</p>
<p>We can use <code>kwic()</code> to perform a search for a word and retrieve its concordances from the corpus:</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="text-analytics-a-start.html#cb468-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kwic</span>(corp_us, <span class="st">&quot;terror&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["docname"],"name":[1],"type":["chr"],"align":["left"]},{"label":["from"],"name":[2],"type":["int"],"align":["right"]},{"label":["to"],"name":[3],"type":["int"],"align":["right"]},{"label":["pre"],"name":[4],"type":["chr"],"align":["left"]},{"label":["keyword"],"name":[5],"type":["chr"],"align":["left"]},{"label":["post"],"name":[6],"type":["chr"],"align":["left"]},{"label":["pattern"],"name":[7],"type":["fct"],"align":["left"]}],"data":[{"1":"1797-Adams","2":"1324","3":"1324","4":"fraud or violence , by","5":"terror","6":", intrigue , or venality","7":"terror"},{"1":"1933-Roosevelt","2":"111","3":"111","4":"nameless , unreasoning , unjustified","5":"terror","6":"which paralyzes needed efforts to","7":"terror"},{"1":"1941-Roosevelt","2":"285","3":"285","4":"seemed frozen by a fatalistic","5":"terror","6":", we proved that this","7":"terror"},{"1":"1961-Kennedy","2":"850","3":"850","4":"alter that uncertain balance of","5":"terror","6":"that stays the hand of","7":"terror"},{"1":"1981-Reagan","2":"811","3":"811","4":"freeing all Americans from the","5":"terror","6":"of runaway living costs .","7":"terror"},{"1":"1997-Clinton","2":"1047","3":"1047","4":"They fuel the fanaticism of","5":"terror","6":". And they torment the","7":"terror"},{"1":"1997-Clinton","2":"1647","3":"1647","4":"maintain a strong defense against","5":"terror","6":"and destruction . Our children","7":"terror"},{"1":"2009-Obama","2":"1619","3":"1619","4":"advance their aims by inducing","5":"terror","6":"and slaughtering innocents , we","7":"terror"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><code>kwic()</code> returns a data frame, which can be easily output to a CSV file for later use.</p>
<div class="danger">
<p>
Please note that <code>kwic()</code>, when taking a <code>corpus</code> object as the argument, will automatically <em>tokenize</em> the corpus data and do the keyword-in-context search on a <em>word</em> basis. In other words, the pattern you look for cannot be a linguistic pattern across several words. <code>quanteda</code> can take care of Chinese word segmentation but with a limited capacity.
</p>
</div>
</div>
<div id="kwic-with-regular-expressions" class="section level2" number="12.4">
<h2><span class="header-section-number">12.4</span> KWIC with Regular Expressions</h2>
<p>For more complex searches, we can use regular expressions as well in <code>kwic()</code>. For example, if you want to include <code>terror</code> and all its other related word forms, such as <code>terrorist</code>, <code>terrorism</code>, <code>terrors</code>, you can do a regular expression search.</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="text-analytics-a-start.html#cb469-1" aria-hidden="true" tabindex="-1"></a>corp_us_tokens <span class="ot">&lt;-</span> <span class="fu">tokens</span>(corp_us)</span>
<span id="cb469-2"><a href="text-analytics-a-start.html#cb469-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kwic</span>(corp_us_tokens, <span class="st">&quot;terror.*&quot;</span>, <span class="at">valuetype =</span> <span class="st">&quot;regex&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["docname"],"name":[1],"type":["chr"],"align":["left"]},{"label":["from"],"name":[2],"type":["int"],"align":["right"]},{"label":["to"],"name":[3],"type":["int"],"align":["right"]},{"label":["pre"],"name":[4],"type":["chr"],"align":["left"]},{"label":["keyword"],"name":[5],"type":["chr"],"align":["left"]},{"label":["post"],"name":[6],"type":["chr"],"align":["left"]},{"label":["pattern"],"name":[7],"type":["fct"],"align":["left"]}],"data":[{"1":"1797-Adams","2":"1324","3":"1324","4":"fraud or violence , by","5":"terror","6":", intrigue , or venality","7":"terror.*"},{"1":"1933-Roosevelt","2":"111","3":"111","4":"nameless , unreasoning , unjustified","5":"terror","6":"which paralyzes needed efforts to","7":"terror.*"},{"1":"1941-Roosevelt","2":"285","3":"285","4":"seemed frozen by a fatalistic","5":"terror","6":", we proved that this","7":"terror.*"},{"1":"1961-Kennedy","2":"850","3":"850","4":"alter that uncertain balance of","5":"terror","6":"that stays the hand of","7":"terror.*"},{"1":"1961-Kennedy","2":"972","3":"972","4":"of science instead of its","5":"terrors","6":". Together let us explore","7":"terror.*"},{"1":"1981-Reagan","2":"811","3":"811","4":"freeing all Americans from the","5":"terror","6":"of runaway living costs .","7":"terror.*"},{"1":"1981-Reagan","2":"2186","3":"2186","4":"understood by those who practice","5":"terrorism","6":"and prey upon their neighbors","7":"terror.*"},{"1":"1997-Clinton","2":"1047","3":"1047","4":"They fuel the fanaticism of","5":"terror","6":". And they torment the","7":"terror.*"},{"1":"1997-Clinton","2":"1647","3":"1647","4":"maintain a strong defense against","5":"terror","6":"and destruction . Our children","7":"terror.*"},{"1":"2009-Obama","2":"1619","3":"1619","4":"advance their aims by inducing","5":"terror","6":"and slaughtering innocents , we","7":"terror.*"},{"1":"2017-Trump","2":"1117","3":"1117","4":"civilized world against radical Islamic","5":"terrorism","6":", which we will eradicate","7":"terror.*"},{"1":"2021-Biden.txt","2":"544","3":"544","4":", white supremacy , domestic","5":"terrorism","6":"that we must confront and","7":"terror.*"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>By default, the <code>kwic()</code> is word-based. If you like to look up a multiword combination, use <code>phrase()</code>:</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb470-1"><a href="text-analytics-a-start.html#cb470-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kwic</span>(corp_us_tokens, <span class="fu">phrase</span>(<span class="st">&quot;our country&quot;</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["docname"],"name":[1],"type":["chr"],"align":["left"]},{"label":["from"],"name":[2],"type":["int"],"align":["right"]},{"label":["to"],"name":[3],"type":["int"],"align":["right"]},{"label":["pre"],"name":[4],"type":["chr"],"align":["left"]},{"label":["keyword"],"name":[5],"type":["chr"],"align":["left"]},{"label":["post"],"name":[6],"type":["chr"],"align":["left"]},{"label":["pattern"],"name":[7],"type":["fct"],"align":["left"]}],"data":[{"1":"1801-Jefferson","2":"18","3":"19","4":"the first executive office of","5":"our country","6":", I avail myself of","7":"our country"},{"1":"1805-Jefferson","2":"1898","3":"1899","4":"course , I offer to","5":"our country","6":"sincere congratulations . With those","7":"our country"},{"1":"1809-Madison","2":"322","3":"323","4":"from this prosperous condition of","5":"our country","6":"to the scene which has","7":"our country"},{"1":"1813-Madison","2":"1033","3":"1034","4":"and an intelligent people .","5":"Our country","6":"abounds in the necessaries ,","7":"our country"},{"1":"1813-Madison","2":"1226","3":"1227","4":"arms now may long preserve","5":"our country","6":"from the necessity of another","7":"our country"},{"1":"1817-Monroe","2":"1217","3":"1218","4":"the highly favored condition of","5":"our country","6":", it is the interest","7":"our country"},{"1":"1817-Monroe","2":"2328","3":"2329","4":"among which the improvement of","5":"our country","6":"by roads and canals ,","7":"our country"},{"1":"1821-Monroe","2":"265","3":"266","4":", prosperity and happiness of","5":"our country","6":"will always be the object","7":"our country"},{"1":"1821-Monroe","2":"1203","3":"1204","4":"citizens from that destruction and","5":"our country","6":"from that devastation which are","7":"our country"},{"1":"1821-Monroe","2":"4028","3":"4029","4":"to the internal concerns of","5":"our country","6":", and more especially to","7":"our country"},{"1":"1825-Adams","2":"1081","3":"1082","4":"the opinions and feelings of","5":"our country","6":", the candid and the","7":"our country"},{"1":"1825-Adams","2":"1507","3":"1508","4":"; that the policy of","5":"our country","6":"is peace and the ark","7":"our country"},{"1":"1825-Adams","2":"2000","3":"2001","4":"men from every section of","5":"our country","6":", while meeting to deliberate","7":"our country"},{"1":"1825-Adams","2":"2150","3":"2151","4":"much to the satisfaction of","5":"our country","6":"and to the honor of","7":"our country"},{"1":"1825-Adams","2":"2528","3":"2529","4":"to the internal improvement of","5":"our country","6":". In this brief outline","7":"our country"},{"1":"1825-Adams","2":"3001","3":"3002","4":"devoted to the welfare of","5":"our country","6":", and the unceasing application","7":"our country"},{"1":"1833-Jackson","2":"675","3":"676","4":"to alienate any portion of","5":"our country","6":"from the rest or to","7":"our country"},{"1":"1833-Jackson","2":"945","3":"946","4":"firmness . Let us extricate","5":"our country","6":"from the dangers which surround","7":"our country"},{"1":"1837-VanBuren","2":"652","3":"653","4":"of our Constitution legislated for","5":"our country","6":"as they found it .","7":"our country"},{"1":"1837-VanBuren","2":"1116","3":"1117","4":"resources of every portion of","5":"our country","6":"; yet the spirit of","7":"our country"},{"1":"1837-VanBuren","2":"1784","3":"1785","4":"been far less frequent in","5":"our country","6":"than in any other of","7":"our country"},{"1":"1837-VanBuren","2":"2053","3":"2054","4":"saw that the energies of","5":"our country","6":"would not be wanting in","7":"our country"},{"1":"1841-Harrison","2":"5971","3":"5972","4":"all the other authorities of","5":"our country","6":", within their appropriate orbits","7":"our country"},{"1":"1841-Harrison","2":"6879","3":"6880","4":"great interests which appertain to","5":"our country","6":", that of union -","7":"our country"},{"1":"1841-Harrison","2":"7114","3":"7115","4":"authorities of the citizens of","5":"our country","6":"in relation to the lines","7":"our country"},{"1":"1841-Harrison","2":"8235","3":"8236","4":"at this time existing in","5":"our country","6":". To me it appears","7":"our country"},{"1":"1841-Harrison","2":"8613","3":"8614","4":"awful , not only to","5":"our country","6":", but to the world","7":"our country"},{"1":"1845-Polk","2":"882","3":"883","4":"prosperity , and advancement of","5":"our country","6":", which have been the","7":"our country"},{"1":"1845-Polk","2":"1896","3":"1897","4":"that in some sections of","5":"our country","6":"misguided persons have occasionally indulged","7":"our country"},{"1":"1845-Polk","2":"3564","3":"3565","4":"was once a part of","5":"our country","6":"- was unwisely ceded away","7":"our country"},{"1":"1845-Polk","2":"4813","3":"4814","4":"the welfare and honor of","5":"our country","6":"or sacrifice any one of","7":"our country"},{"1":"1845-Polk","2":"4977","3":"4978","4":"the Government . Although in","5":"our country","6":"the Chief Magistrate must almost","7":"our country"},{"1":"1853-Pierce","2":"644","3":"645","4":"increasing radiance . In this","5":"our country","6":"has , in my judgment","7":"our country"},{"1":"1853-Pierce","2":"1904","3":"1905","4":"of large standing armies in","5":"our country","6":"would be not only dangerous","7":"our country"},{"1":"1853-Pierce","2":"3052","3":"3053","4":"calm and free discussion in","5":"our country","6":"is open , and will","7":"our country"},{"1":"1861-Lincoln","2":"2789","3":"2790","4":"purposes . One section of","5":"our country","6":"believes slavery is right and","7":"our country"},{"1":"1861-Lincoln","2":"3011","3":"3012","4":"but the different parts of","5":"our country","6":"can not do this .","7":"our country"},{"1":"1869-Grant","2":"31","3":"32","4":"conformity to the Constitution of","5":"our country","6":", taken the oath of","7":"our country"},{"1":"1869-Grant","2":"1031","3":"1032","4":"jeopardized or the flag of","5":"our country","6":"floats . I would respect","7":"our country"},{"1":"1873-Grant","2":"1222","3":"1223","4":"does , every section of","5":"our country","6":", the obligation I am","7":"our country"},{"1":"1877-Hayes","2":"140","3":"141","4":"essential to the welfare of","5":"our country","6":". At the outset of","7":"our country"},{"1":"1877-Hayes","2":"799","3":"800","4":"of a large portion of","5":"our country","6":"and the advance of 4,000,000","7":"our country"},{"1":"1877-Hayes","2":"2126","3":"2127","4":"way , thus securing to","5":"our country","6":"the great blessings of peace","7":"our country"},{"1":"1877-Hayes","2":"2628","3":"2629","4":"earnest effort to secure to","5":"our country","6":"the blessings , not only","7":"our country"},{"1":"1889-Harrison","2":"483","3":"484","4":"great part happy contrasts between","5":"our country","6":"as it steps over the","7":"our country"},{"1":"1889-Harrison","2":"1772","3":"1773","4":"policy for any section of","5":"our country","6":". It is the duty","7":"our country"},{"1":"1889-Harrison","2":"3442","3":"3443","4":"nothing in the condition of","5":"our country","6":"or of our people to","7":"our country"},{"1":"1893-Cleveland","2":"151","3":"152","4":"the growth and expansion of","5":"our country","6":", the sufficiency of our","7":"our country"},{"1":"1897-McKinley","2":"1382","3":"1383","4":"industries and the development of","5":"our country","6":". It is , therefore","7":"our country"},{"1":"1897-McKinley","2":"1648","3":"1649","4":"markets for the products of","5":"our country","6":", by granting concessions to","7":"our country"},{"1":"1909-Taft","2":"1625","3":"1626","4":"of Government absolutely necessary if","5":"our country","6":"is to maintain its proper","7":"our country"},{"1":"1909-Taft","2":"3435","3":"3436","4":"and far western sections of","5":"our country","6":", and will greatly increase","7":"our country"},{"1":"1925-Coolidge","2":"275","3":"276","4":"keep the former experiences of","5":"our country","6":"both at home and abroad","7":"our country"},{"1":"1925-Coolidge","2":"855","3":"856","4":"bonds with all humanity .","5":"Our country","6":"represents nothing but peaceful intentions","7":"our country"},{"1":"1925-Coolidge","2":"4075","3":"4076","4":". The encouraging feature of","5":"our country","6":"is not that it has","7":"our country"},{"1":"1925-Coolidge","2":"4273","3":"4274","4":"fully justified . Here stands","5":"our country","6":", an example of tranquillity","7":"our country"},{"1":"1929-Hoover","2":"1824","3":"1825","4":"era . Many sections of","5":"our country","6":"and many groups of our","7":"our country"},{"1":"1929-Hoover","2":"1962","3":"1963","4":"can be rightly directed toward","5":"our country","6":". Those who have a","7":"our country"},{"1":"1929-Hoover","2":"2608","3":"2609","4":"their expression of friendliness to","5":"our country","6":". We are held by","7":"our country"},{"1":"1929-Hoover","2":"3640","3":"3641","4":"discussion . The questions before","5":"our country","6":"are problems of progress to","7":"our country"},{"1":"1929-Hoover","2":"3793","3":"3794","4":"fears for the future of","5":"our country","6":". It is bright with","7":"our country"},{"1":"1933-Roosevelt","2":"62","3":"63","4":"from honestly facing conditions in","5":"our country","6":"today . This great Nation","7":"our country"},{"1":"1937-Roosevelt","2":"1781","3":"1782","4":"peace . Today we reconsecrate","5":"our country","6":"to long-cherished ideals in a","7":"our country"},{"1":"1941-Roosevelt","2":"1511","3":"1512","4":", in the service of","5":"our country","6":", by the will of","7":"our country"},{"1":"1945-Roosevelt","2":"572","3":"573","4":". He has given to","5":"our country","6":"a faith which has become","7":"our country"},{"1":"1953-Eisenhower","2":"1050","3":"1051","4":"conscious renewal of faith in","5":"our country","6":"and in the watchfulness of","7":"our country"},{"1":"1953-Eisenhower","2":"1411","3":"1412","4":", destiny has laid upon","5":"our country","6":"the responsibility of the free","7":"our country"},{"1":"1953-Eisenhower","2":"2348","3":"2349","4":"ready to dare all for","5":"our country","6":". For history does not","7":"our country"},{"1":"1961-Kennedy","2":"1387","3":"1388","4":"to this endeavor will light","5":"our country","6":"and all who serve it","7":"our country"},{"1":"1977-Carter","2":"428","3":"429","4":"again have full faith in","5":"our country","6":"- and in one another","7":"our country"},{"1":"1981-Reagan","2":"1570","3":"1571","4":". How can we love","5":"our country","6":"and not love our countrymen","7":"our country"},{"1":"1981-Reagan","2":"1807","3":"1808","4":"his fellow Americans , \"","5":"Our country","6":"is in danger , but","7":"our country"},{"1":"1981-Reagan","2":"2347","3":"2348","4":"George Washington , Father of","5":"our country","6":". A man of humility","7":"our country"},{"1":"1985-Reagan","2":"1375","3":"1376","4":"the most distressed areas of","5":"our country","6":". My friends , together","7":"our country"},{"1":"1989-Bush","2":"141","3":"142","4":"Washington remains the Father of","5":"our Country","6":". And he would ,","7":"our country"},{"1":"1989-Bush","2":"2481","3":"2482","4":"body , the soul of","5":"our country","6":". And there is much","7":"our country"},{"1":"1993-Clinton","2":"936","3":"937","4":"but for our communities and","5":"our country","6":". To renew America we","7":"our country"},{"1":"2001-Bush","2":"24","3":"25","4":"history , yet common in","5":"our country","6":". With a simple oath","7":"our country"},{"1":"2001-Bush","2":"311","3":"312","4":"more than the creed of","5":"our country","6":", it is the inborn","7":"our country"},{"1":"2001-Bush","2":"569","3":"570","4":"embracing these ideals , makes","5":"our country","6":"more , not less ,","7":"our country"},{"1":"2001-Bush","2":"673","3":"674","4":"are never small . If","5":"our country","6":"does not lead the cause","7":"our country"},{"1":"2001-Bush","2":"947","3":"948","4":"The enemies of liberty and","5":"our country","6":"should make no mistake :","7":"our country"},{"1":"2001-Bush","2":"1225","3":"1226","4":"our laws . Many in","5":"our country","6":"do not know the pain","7":"our country"},{"1":"2001-Bush","2":"1757","3":"1758","4":"purpose today , to make","5":"our country","6":"more just and generous ,","7":"our country"},{"1":"2005-Bush","2":"63","3":"64","4":"the deep commitments that unite","5":"our country","6":". I am grateful for","7":"our country"},{"1":"2005-Bush","2":"1169","3":"1170","4":"granted in good measure .","5":"Our country","6":"has accepted obligations that are","7":"our country"},{"1":"2005-Bush","2":"1320","3":"1321","4":"have shown their devotion to","5":"our country","6":"in deaths that honored their","7":"our country"},{"1":"2005-Bush","2":"1426","3":"1427","4":"just to the wealth of","5":"our country","6":"but to its character .","7":"our country"},{"1":"2005-Bush","2":"1554","3":"1555","4":"the promise and future of","5":"our country","6":", we will bring the","7":"our country"},{"1":"2005-Bush","2":"1842","3":"1843","4":"unwanted have worth . And","5":"our country","6":"must abandon all the habits","7":"our country"},{"1":"2005-Bush","2":"1889","3":"1890","4":"the issues and questions before","5":"our country","6":"are many . From the","7":"our country"},{"1":"2013-Obama","2":"666","3":"667","4":"the people , understand that","5":"our country","6":"cannot succeed when a shrinking","7":"our country"},{"1":"2013-Obama","2":"1830","3":"1831","4":"workforce rather than expelled from","5":"our country","6":". Our journey is not","7":"our country"},{"1":"2017-Trump","2":"46","3":"47","4":"great national effort to rebuild","5":"our country","6":"and restore its promise for","7":"our country"},{"1":"2017-Trump","2":"254","3":"255","4":"but not the citizens of","5":"our country","6":". Their victories have not","7":"our country"},{"1":"2017-Trump","2":"404","3":"405","4":"forgotten men and women of","5":"our country","6":"will be forgotten no longer","7":"our country"},{"1":"2017-Trump","2":"572","3":"573","4":"too many lives and robbed","5":"our country","6":"of so much unrealized potential","7":"our country"},{"1":"2017-Trump","2":"723","3":"724","4":"strength , and confidence of","5":"our country","6":"has dissipated over the horizon","7":"our country"},{"1":"2017-Trump","2":"1015","3":"1016","4":"back to work - rebuilding","5":"our country","6":"with American hands and American","7":"our country"},{"1":"2017-Trump","2":"1153","3":"1154","4":"and through our loyalty to","5":"our country","6":", we will rediscover our","7":"our country"},{"1":"2017-Trump","2":"1368","3":"1369","4":"We will not fail .","5":"Our country","6":"will thrive and prosper again","7":"our country"},{"1":"2021-Biden.txt","2":"1869","3":"1870","4":"we are this way ,","5":"our country","6":"will be stronger , more","7":"our country"},{"1":"2021-Biden.txt","2":"2174","3":"2175","4":"left behind , and for","5":"our country","6":". Amen . This is","7":"our country"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>It should be noted that the output of <code>kwic</code> includes not only the concordances (i.e., preceding/subsequent co-texts + the keyword), but also the sources of the texts for each concordance line. This would be extremely convenient if you need to refer back to the original discourse context of the concordance line.</p>
<hr />

<div class="exercise">
<span id="exr:unnamed-chunk-449" class="exercise"><strong>Exercise 12.2  </strong></span>Please create a bar plot, showing the number of uses of the word <em>country</em> in each president’s address. Please include different variants of the word, e.g., <em>countries</em>, <em>Countries</em>, <em>Country</em>, in your <code>kwic()</code> search.
</div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-450-1.png" width="672" /></p>
</div>
<div id="lexical-density-plot" class="section level2" number="12.5">
<h2><span class="header-section-number">12.5</span> Lexical Density Plot</h2>
<p>Plotting a <code>kwic</code> object produces a lexical dispersion plot. which allows us to visualize the occurrences of particular terms throughout the text.</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="text-analytics-a-start.html#cb471-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(quanteda.textplots)</span>
<span id="cb471-2"><a href="text-analytics-a-start.html#cb471-2" aria-hidden="true" tabindex="-1"></a>corp_us_tokens <span class="sc">%&gt;%</span></span>
<span id="cb471-3"><a href="text-analytics-a-start.html#cb471-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_subset</span>(Year <span class="sc">&gt;</span> <span class="dv">1949</span>) <span class="sc">%&gt;%</span></span>
<span id="cb471-4"><a href="text-analytics-a-start.html#cb471-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kwic</span>(<span class="at">pattern=</span> <span class="st">&quot;american&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb471-5"><a href="text-analytics-a-start.html#cb471-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">textplot_xray</span>()</span></code></pre></div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-451-1.png" width="100%" /></p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="text-analytics-a-start.html#cb472-1" aria-hidden="true" tabindex="-1"></a>corp_us_subset <span class="ot">&lt;-</span> corp_us_tokens <span class="sc">%&gt;%</span></span>
<span id="cb472-2"><a href="text-analytics-a-start.html#cb472-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_subset</span>(Year <span class="sc">&gt;</span> <span class="dv">1949</span>)</span>
<span id="cb472-3"><a href="text-analytics-a-start.html#cb472-3" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_xray</span>(</span>
<span id="cb472-4"><a href="text-analytics-a-start.html#cb472-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">kwic</span>(corp_us_subset, <span class="at">pattern =</span> <span class="st">&quot;american&quot;</span>),</span>
<span id="cb472-5"><a href="text-analytics-a-start.html#cb472-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">kwic</span>(corp_us_subset, <span class="at">pattern =</span> <span class="st">&quot;people&quot;</span>)</span>
<span id="cb472-6"><a href="text-analytics-a-start.html#cb472-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-452-1.png" width="100%" /></p>
</div>
<div id="document-feature-matrix" class="section level2" number="12.6">
<h2><span class="header-section-number">12.6</span> Document-Feature Matrix</h2>
<p>Another important object class is defined in <code>quanteda</code>: the <code>dfm</code>. It stands for <strong>Document-Feature-Matrix</strong>. It’s a two-dimensional co-occurrence table, with the rows being the documents in the corpus, and columns being the features used to characterizing the documents. The cells in the matrix often refer to the <em>co-occurrence statistics</em> between each document and the feature. We can use <code>dfm()</code> to create the <code>dfm</code> of a <code>corpus</code>.</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="text-analytics-a-start.html#cb473-1" aria-hidden="true" tabindex="-1"></a>corp_us_dfm <span class="ot">&lt;-</span> corp_us <span class="sc">%&gt;%</span> tokens <span class="sc">%&gt;%</span> dfm</span>
<span id="cb473-2"><a href="text-analytics-a-start.html#cb473-2" aria-hidden="true" tabindex="-1"></a>corp_us_dfm[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>## Document-feature matrix of: 10 documents, 10 features (43.00% sparse) and 4 docvars.
##                  features
## docs              fellow-citizens  of the senate and house representatives :
##   1789-Washington               1  71 116      1  48     2               2 1
##   1793-Washington               0  11  13      0   2     0               0 1
##   1797-Adams                    3 140 163      1 130     0               2 0
##   1801-Jefferson                2 104 130      0  81     0               0 1
##   1805-Jefferson                0 101 143      0  93     0               0 0
##   1809-Madison                  1  69 104      0  43     0               0 0
##                  features
## docs              among vicissitudes
##   1789-Washington     1            1
##   1793-Washington     0            0
##   1797-Adams          4            0
##   1801-Jefferson      1            0
##   1805-Jefferson      7            0
##   1809-Madison        0            0
## [ reached max_ndoc ... 4 more documents ]</code></pre>
<p>We can see that in the first document, i.e., <em>1789-Washington</em>, there are <em>2</em> occurrences of <em>representatives</em>, <em>48</em> occurrences of <em>and</em></p>
</div>
<div id="feature-selection" class="section level2" number="12.7">
<h2><span class="header-section-number">12.7</span> Feature Selection</h2>
<p>A <code>dfm</code> may not be as informative as we have expected. To better capture the documental semantic similarity, there are several important factors that need to be more carefully considered with respect to the features of the <code>dfm</code>:</p>
<ul>
<li>The <strong>granularity</strong> of the features</li>
<li>The <strong>informativeness</strong> of the features</li>
<li>The <strong>distributional properties</strong> of the features</li>
</ul>
<p>Not only does <code>dfm()</code> provide many arguments for users to specify conditions for features selection; in <code>quanteda</code>, we can also apply <code>dfm_trim()</code> to select important features for later analysis.</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="text-analytics-a-start.html#cb475-1" aria-hidden="true" tabindex="-1"></a>corp_dfm_trimmed <span class="ot">&lt;-</span> corp_us <span class="sc">%&gt;%</span> </span>
<span id="cb475-2"><a href="text-analytics-a-start.html#cb475-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens</span>( <span class="at">remove_punct =</span> T,</span>
<span id="cb475-3"><a href="text-analytics-a-start.html#cb475-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">remove_numbers=</span> T,</span>
<span id="cb475-4"><a href="text-analytics-a-start.html#cb475-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">remove_symbols =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb475-5"><a href="text-analytics-a-start.html#cb475-5" aria-hidden="true" tabindex="-1"></a>  dfm <span class="sc">%&gt;%</span></span>
<span id="cb475-6"><a href="text-analytics-a-start.html#cb475-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">&quot;en&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb475-7"><a href="text-analytics-a-start.html#cb475-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">10</span>, <span class="at">termfreq_type =</span> <span class="st">&quot;count&quot;</span>,</span>
<span id="cb475-8"><a href="text-analytics-a-start.html#cb475-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">min_docfreq =</span> <span class="dv">3</span>, <span class="at">max_docfreq =</span> <span class="fu">ndoc</span>(corp_us)<span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb475-9"><a href="text-analytics-a-start.html#cb475-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">docfreq_type =</span> <span class="st">&quot;count&quot;</span>) </span></code></pre></div>
</div>
<div id="top-features" class="section level2" number="12.8">
<h2><span class="header-section-number">12.8</span> Top Features</h2>
<p>With a <code>dfm</code>, we can check important features from the corpus.</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="text-analytics-a-start.html#cb476-1" aria-hidden="true" tabindex="-1"></a><span class="fu">topfeatures</span>(corp_dfm_trimmed,<span class="dv">10</span>)</span></code></pre></div>
<pre><code>##     people government         us        can       must       upon      great 
##        584        564        505        487        376        371        344 
##        may     states      world 
##        343        334        319</code></pre>
</div>
<div id="wordclouds" class="section level2" number="12.9">
<h2><span class="header-section-number">12.9</span> Wordclouds</h2>
<p>With a <code>dfm</code>, we can visualize important words in the corpus with a <strong>Word Cloud</strong>. It is a novel but intuitive visual representation of text data. It allows us to quickly perceive the most prominent words from a large collection of texts.</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="text-analytics-a-start.html#cb478-1" aria-hidden="true" tabindex="-1"></a>corp_dfm_trimmed <span class="sc">%&gt;%</span></span>
<span id="cb478-2"><a href="text-analytics-a-start.html#cb478-2" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(<span class="at">min_count =</span> <span class="dv">50</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>,</span>
<span id="cb478-3"><a href="text-analytics-a-start.html#cb478-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">rotation =</span> .<span class="dv">25</span>,</span>
<span id="cb478-4"><a href="text-analytics-a-start.html#cb478-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="dv">8</span>, <span class="st">&quot;Dark2&quot;</span>))</span></code></pre></div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-456-1.png" width="672" /></p>
<p>We can also compare word clouds for different subsets of the corpus:</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="text-analytics-a-start.html#cb479-1" aria-hidden="true" tabindex="-1"></a><span class="fu">corpus_subset</span>(corp_us,</span>
<span id="cb479-2"><a href="text-analytics-a-start.html#cb479-2" aria-hidden="true" tabindex="-1"></a>              President <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Obama&quot;</span>, <span class="st">&quot;Trump&quot;</span>, <span class="st">&quot;Clinton&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb479-3"><a href="text-analytics-a-start.html#cb479-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens</span>(<span class="at">remove_punct =</span> T,</span>
<span id="cb479-4"><a href="text-analytics-a-start.html#cb479-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">remove_numbers=</span> T,</span>
<span id="cb479-5"><a href="text-analytics-a-start.html#cb479-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">remove_symbols =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb479-6"><a href="text-analytics-a-start.html#cb479-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tokens_group</span>(<span class="at">groups =</span> President) <span class="sc">%&gt;%</span></span>
<span id="cb479-7"><a href="text-analytics-a-start.html#cb479-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm</span>() <span class="sc">%&gt;%</span></span>
<span id="cb479-8"><a href="text-analytics-a-start.html#cb479-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">&quot;en&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb479-9"><a href="text-analytics-a-start.html#cb479-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">5</span>, </span>
<span id="cb479-10"><a href="text-analytics-a-start.html#cb479-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">termfreq_type =</span> <span class="st">&quot;count&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb479-11"><a href="text-analytics-a-start.html#cb479-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">textplot_wordcloud</span>(<span class="at">comparison =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-457-1.png" width="672" /></p>
</div>
<div id="keyness-analysis" class="section level2" number="12.10">
<h2><span class="header-section-number">12.10</span> Keyness Analysis</h2>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-458-1.png" width="100%" /></p>
</div>
<div id="flowchart" class="section level2" number="12.11">
<h2><span class="header-section-number">12.11</span> Flowchart</h2>
<p>Finally, Figure <a href="text-analytics-a-start.html#fig:ctpworkflow">12.1</a> below provides a summary flowchart for computatutional text analytics in R.</p>
<div class="figure"><span id="fig:ctpworkflow"></span>
<div id="htmlwidget-cdc6988591625a3d38be" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-cdc6988591625a3d38be">{"x":{"diagram":"digraph {\n  \ngraph[layout = dot]\n\nnode[style=filled, color = grey90, penwidth = 0.3, fontcolor = grey30]\nedge[color= grey40, alpha = 0.2, penwidth= 0.4, arrowsize=0.8, arrowhead = normal]\n\na [label = \"Raw Texts\", shape = folder, fillcolor= \"#B0E2FC\"]\na1 [label = \"corpus()\", shape=document, fillcolor= \"#96F597\"]\nb [label = \"CORPUS object\", shape = folder, fillcolor= \"#B0E2FC\"]\n\nb1 [label = \"quanteda::summary()\", shape=document, fillcolor= \"#96F597\"]\nb2 [label = \"quanteda::kwic()\", shape=document, fillcolor= \"#96F597\"]\nb3 [label = \"quanteda::dfm()\", shape=document, fillcolor= \"#96F597\"]\n\nc[label = \"Data Frame (KWIC)\", shape = folder, fillcolor= \"#B0E2FC\"]\nc1 [label = \"quanteda::textplot_xray()\", shape=document, fillcolor= \"#96F597\"]\n\n\nd[label = \"Summary DF\", shape = folder, fillcolor= \"#B0E2FC\"]\n\ne[label = \"dfm\", shape = folder, fillcolor= \"#B0E2FC\"]\ne1 [label = \"quanteda::dfm_trim()\", shape=document, fillcolor= \"#96F597\"]\n\ne2 [label = \"quanteda::textplot_wordcloud()\", shape=document, fillcolor= \"#96F597\"]\ne3 [label = \"quanteda::textstats_keyness()\", shape=document, fillcolor= \"#96F597\"]\n\nf[label = \"Word Cloud\", shape = folder, fillcolor= \"#B0E2FC\"]\ng[label = \"Keyness DF\", shape = folder, fillcolor= \"#B0E2FC\"]\ng1[label = \"quanteda::textplot_keyness()\", shape=document, fillcolor= \"#96F597\"]\nh[label = \"Keyness Plot\", shape = folder, fillcolor= \"#B0E2FC\"]\ni[label = \"Lexcial Density Plot\", shape = folder, fillcolor= \"#B0E2FC\"]\n\na -> a1 -> b\nb->b1->d\nb->b2->c->c1->i\nb->b3->e\ne->e1->e2->f\ne1->e3->g->g1->h\n\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 12.1: Computational Text Processing Flowchart in R
</p>
</div>
</div>
<div id="exercises-1" class="section level2" number="12.12">
<h2><span class="header-section-number">12.12</span> Exercises</h2>
<p>In the following exercise, please use the dataset <code>demo_data/TW_President.tar.gz</code>, which is a text collection of the inaugural speeches of Taiwan Presidents (till 2016).</p>
<p>You may load the entire text collection as a <code>corpus</code> object using the following code:</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="text-analytics-a-start.html#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(readtext)</span>
<span id="cb480-2"><a href="text-analytics-a-start.html#cb480-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(quanteda)</span>
<span id="cb480-3"><a href="text-analytics-a-start.html#cb480-3" aria-hidden="true" tabindex="-1"></a>corp_tw <span class="ot">&lt;-</span> <span class="fu">readtext</span>(<span class="st">&quot;demo_data/TW_President.tar.gz&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb480-4"><a href="text-analytics-a-start.html#cb480-4" aria-hidden="true" tabindex="-1"></a>  corpus</span></code></pre></div>

<div class="exercise">
<p><span id="exr:unnamed-chunk-460" class="exercise"><strong>Exercise 12.3  </strong></span>Please create a data frame, which includes the metadata information for each text. You may start with a data frame you get from <code>summary(corp_tw)</code> and then create two additional columns—<code>President</code> and <code>Year</code>, which can be extracted from the text filenames in the <code>Text</code> column.</p>
Hint: <code>tidyr::extract()</code>
</div>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="text-analytics-a-start.html#cb481-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(corp_tw) <span class="sc">%&gt;%</span> as_tibble</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Text"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Types"],"name":[2],"type":["int"],"align":["right"]},{"label":["Tokens"],"name":[3],"type":["int"],"align":["right"]},{"label":["Sentences"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"1948_1_JIANGZHONGZHENG.txt","2":"888","3":"2368","4":"63"},{"1":"1954_2_JIANGZHONGZHENG.txt","2":"657","3":"1629","4":"46"},{"1":"1960_3_JIANGZHONGZHENG.txt","2":"691","3":"1792","4":"51"},{"1":"1966_4_JIANGZHONGZHENG.txt","2":"940","3":"2474","4":"60"},{"1":"1972_5_JIANGZHONGZHENG.txt","2":"355","3":"669","4":"9"},{"1":"1978_6_JIANGJINGGUO.txt","2":"534","3":"1294","4":"23"},{"1":"1984_7_JIANGJINGGUO.txt","2":"416","3":"722","4":"18"},{"1":"1990_8_LIDEHUI.txt","2":"787","3":"1827","4":"59"},{"1":"1996_9_LIDEHUI.txt","2":"976","3":"2632","4":"102"},{"1":"2000_10_CHENSHUIBIAN.txt","2":"1123","3":"3225","4":"119"},{"1":"2004_11_CHENSHUIBIAN.txt","2":"1159","3":"3380","4":"111"},{"1":"2008_12_MAYANGJIU.txt","2":"913","3":"2274","4":"82"},{"1":"2012_13_MAYANGJIU.txt","2":"1280","3":"3680","4":"120"},{"1":"2016_14_CAYANGWEN.txt","2":"1108","3":"3792","4":"159"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>After you create the metadata DF, please assign it to the <code>docvars(corp_tw)</code> for later analysis.</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Year"],"name":[1],"type":["chr"],"align":["left"]},{"label":["President"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Types"],"name":[3],"type":["int"],"align":["right"]},{"label":["Tokens"],"name":[4],"type":["int"],"align":["right"]},{"label":["Sentences"],"name":[5],"type":["int"],"align":["right"]}],"data":[{"1":"1948","2":"JIANGZHONGZHENG","3":"888","4":"2368","5":"63"},{"1":"1954","2":"JIANGZHONGZHENG","3":"657","4":"1629","5":"46"},{"1":"1960","2":"JIANGZHONGZHENG","3":"691","4":"1792","5":"51"},{"1":"1966","2":"JIANGZHONGZHENG","3":"940","4":"2474","5":"60"},{"1":"1972","2":"JIANGZHONGZHENG","3":"355","4":"669","5":"9"},{"1":"1978","2":"JIANGJINGGUO","3":"534","4":"1294","5":"23"},{"1":"1984","2":"JIANGJINGGUO","3":"416","4":"722","5":"18"},{"1":"1990","2":"LIDEHUI","3":"787","4":"1827","5":"59"},{"1":"1996","2":"LIDEHUI","3":"976","4":"2632","5":"102"},{"1":"2000","2":"CHENSHUIBIAN","3":"1123","4":"3225","5":"119"},{"1":"2004","2":"CHENSHUIBIAN","3":"1159","4":"3380","5":"111"},{"1":"2008","2":"MAYANGJIU","3":"913","4":"2274","5":"82"},{"1":"2012","2":"MAYANGJIU","3":"1280","4":"3680","5":"120"},{"1":"2016","2":"CAYANGWEN","3":"1108","4":"3792","5":"159"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>

<div class="exercise">
<span id="exr:unnamed-chunk-463" class="exercise"><strong>Exercise 12.4  </strong></span>Please create a lexical density plot for the use of “台灣” in all presidents’ texts.
</div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-464-1.png" width="100%" /></p>

<div class="exercise">
<span id="exr:unnamed-chunk-465" class="exercise"><strong>Exercise 12.5  </strong></span>Please create a word cloud of the entire corpus <code>corp_tw</code>. In the word cloud, please remove punctuations, numbers, and symbols. The word cloud has to only include words whose frequency &gt;= 20.
</div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-466-1.png" width="100%" /></p>

<div class="exercise">
<span id="exr:unnamed-chunk-467" class="exercise"><strong>Exercise 12.6  </strong></span>Create word clouds showing the comparison of President Tsai (<code>CAYANGWEN</code>), Ma (<code>MAYANGJIU</code>), and Shuibian Chen (<code>CHENSHUIBIAN</code>).
</div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-468-1.png" width="100%" /></p>

<div class="exercise">
<span id="exr:unnamed-chunk-469" class="exercise"><strong>Exercise 12.7  </strong></span>Please create a keyness plot, showing the preferred words used by President Tsai (<code>CAYANGWEN</code>) vs. President Ma (<code>MAYANGJIU</code>).
</div>
<p><img src="Programming_Linguistics_bookdown_files/figure-html/unnamed-chunk-470-1.png" width="100%" /></p>

</div>
</div>



</div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/

var disqus_config = function () {
this.page.url = "https:\/\/alvinntnu.github.io" + location.pathname;  // Replace PAGE_URL with your page's canonical URL variable
/*this.page.identifier = location.pathname;*/
this.page.title = document.title;
};


(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://enc2055.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            
            </section>

          </div>
        </div>
      </div>
<a href="data-scientist-first-step.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="the-shell.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
